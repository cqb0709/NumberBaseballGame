# NumberBaseballGame

-----

# ⚾ Optimal Number Baseball Solver (with Minimax Algorithm)

이 프로젝트는 파이썬의 **미니맥스(Minimax) 알고리즘**을 활용하여 숫자야구 게임의 최적 해법을 제시하는 웹 애플리케이션입니다. Streamlit을 이용해 직관적인 Chat UI를 구현하였으며, 대규모 연산 처리를 위한 멀티프로세싱 최적화가 적용되었습니다.

<br>

## 1\. 숫자야구 게임이란? (What is Number Baseball?)

숫자야구는 상대방이 생각한 **서로 다른 K자리의 숫자**를 맞추는 논리 게임입니다.
추측한 숫자와 정답을 비교하여 다음과 같은 힌트를 얻습니다.

  * **스트라이크 (S):** 숫자와 위치가 모두 맞는 경우
  * **볼 (B):** 숫자는 맞지만 위치가 다른 경우
  * **아웃:** 맞는 숫자가 하나도 없는 경우

플레이어는 이 힌트를 바탕으로 남은 가능성을 소거해나가며 정답을 유추해야 합니다.

<br>

## 2\. 핵심 알고리즘: 미니맥스 (Minimax Strategy)

이 솔버는 단순히 운에 의존하지 않고, \*\*"최악의 경우에도 남은 후보군의 수를 최소화"\*\*하는 전략을 사용합니다.

1.  현재 남은 모든 후보 숫자(Candidates)를 대상으로 다음 질문을 던졌을 때 나올 수 있는 \*\*모든 결과(S, B)\*\*를 시뮬레이션합니다.
2.  각 질문마다 가장 불리한 결과(후보가 가장 많이 남는 경우)를 계산합니다. (`Worst Case Size`)
3.  그 **최악의 경우(Max)가 가장 작은(Min) 질문**을 다음 추측으로 선택합니다.

이 방식을 통해 정보 획득량을 최대화하여, 4자리 숫자 기준 **항상 7회 이내**에 정답을 맞출 수 있음을 수학적으로 보장합니다.

<br>

## 3\. 계산 복잡도와 한계 (Computational Limits)

숫자야구의 자릿수가 늘어날수록 경우의 수(순열, $10P_k$)와 연산량은 기하급수적으로 증가합니다. 본 프로젝트는 이러한 연산 한계를 극복하기 위해 멀티프로세싱 및 휴리스틱(Heuristics) 기법을 도입했습니다.

### ⚡ 자릿수별 연산 부하 비교

알고리즘은 매 턴마다 약 $(후보 수)^2$에 비례하는 연산을 수행합니다.

| 자릿수 (K) | 전체 후보 수 (M) | 첫 추측 시 연산 횟수 ($M^2$) | 파이썬 예상 소요 시간 (첫 수) |
| :---: | :---: | :---: | :--- |
| **3자리** | 720개 | 약 51만 회 | **0.1초 미만 (순식간)** |
| **4자리** | 5,040개 | 약 2,500만 회 | **수 초 \~ 10초 (쾌적함)** |
| **5자리** | 30,240개 | 약 9억 회 | **수 분 \~ 10분 (인내심 필요)** |
| **6자리** | 151,200개 | **약 228억 회** | **하루 이상 (실행 불가 ⛔)** |

> **Note:** 5자리 이상의 경우, 전체 전수 조사 대신 샘플링 기법을 적용하여 연산 속도를 획기적으로 줄일 수 있습니다.

### 🎯 최적 추론 횟수 (Max Guesses)

미니맥스 알고리즘을 적용했을 때 정답을 맞추기까지 필요한 최대 횟수입니다.

| 자릿수 (K) | 최악의 경우 최대 횟수 | 비고 |
| :---: | :---: | :--- |
| **3자리** | **5회** | 수학적으로 증명됨 |
| **4자리** | **7회** | 수학적으로 증명됨 (본 프로젝트 구현) |
| **5자리** | **8\~9회** | (추정) 평균 8.5회 내외 수렴 |
| **6자리** | **9\~10회** | (추정) |

<br>

## 4\. Features & Streamlit UI

[Streamlit](https://streamlit.io/)을 사용하여 모던하고 반응형인 웹 인터페이스를 제공합니다.

### 🖥️ 주요 기능

  * **Game Modes:**
      * **💻 AUTOPLAY:** AI가 스스로 정답을 설정하고, 스스로 추론하여 맞추는 과정을 관전합니다.
      * **👤 PLAYER MODE:**
          * **⚔️ 공격 (Attack):** 사용자가 숫자를 입력하여 AI가 만든 정답을 맞춥니다.
          * **🛡️ 방어 (Defense):** 사용자가 생각한 숫자를 AI가 맞춥니다. 사용자는 힌트(예: 1s 1b)만 제공하면 됩니다.
  * **Chat Interface:** 카카오톡/메신저 스타일의 말풍선 UI (User: 노란색, AI: 회색)로 진행 상황을 직관적으로 보여줍니다.
  * **Multiprocessing Optimization:** 5자리 이상의 고부하 연산 시에도 UI가 멈추지(Freezing) 않도록, 연산 로직을 별도 프로세스로 분리하였습니다.
  * **Dynamic Settings:** 3\~9자리까지 난이도 설정이 가능합니다.

<br>

## 🛠️ Installation & Usage

```bash
# 1. Clone the repository
git clone https://github.com/your-username/number-baseball-solver.git](https://github.com/cqb0709/NumberBaseballGame.git

# 2. Install dependencies
pip install streamlit

# 3. Run the application
streamlit run app.py
```

<br>

-----

### 📝 Tech Stack
